1.
To train the models with the QM9 dataset, first download the raw data at: 
https://figshare.com/collections/Quantum_chemistry_structures_and_properties_of_134_kilo_molecules/978904
and please create and unzip the raw data to "raw_data" folder under this directory.

Note that the refernce energy file (reference_energy.txt) and the list of 3054 molecules to be removed (uncharacterized.txt) is in this directory already.

2.
Generate the json file listing all molecules ("qm9.json") with the following command:
python read_qm9.py

Or

Generate the json file with the 3054 molecules removed ("pruned_qm9.json") with the following command
python read_pruned_qm9.py


3.
Calculate per-element bias and prepare training/test data with the following command (with the full list):
python prepare_dataset_linear_fit.py [trial_name] [number_training_molecules]
like
python prepare_dataset_linear_fit.py 120000_linear_fit 120000

or the following with the pruned list:
python prepare_dataset_pruned_linear_fit.py [trial_name] [number_training_molecules]

a directory will be created under the current directory containing the data and per-element bias


4.
Train model with the following command:
python train_model_gpu.py [dataset_name] [checkpoint_name] [num_gaussians] [order_MCSH] [num_nodes] [num_layers] [minibatch_size] [cutoff_distance]
like
python train_model_gpu.py 120000_linear_fit test 19 4 150 7 32 15.0
Note that "test" is here as a placeholder, as no checkpoint is loaded

to load model and continue training from checkpoint, uncomment line 204 of the scipt and run something like
python train_model_gpu.py 120000_linear_fit ./checkpoints/2021-02-03-14-44-03-test 19 4 150 7 32 15.0

You can also change the list of sigmas in the script



